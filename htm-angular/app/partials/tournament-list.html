<!--tournament-list.html-->
<div class="col-md-12" ng-controller="TournamentListCtrl">
	<h2>Tournaments</h2>
	<div class="alert alert-warning" ng-show="isError()">
		<p>Could not load tournaments because {{tournaments.error.status}}:{{tournaments.error.statusText}}.</p>
	</div>
	<div class="list-group">
		<a class="list-group-item" href="#/tournament/{{tournament.id}}"  ng-repeat="tournament in tournaments" >
		<htm-tournament-list-item tournament="tournament"></htm-tournament-list-item>
		</a>
		<a class="list-group-item" href="" ng-click="showAddNewTournament()" ng-hide="addNewTournamentVisible" htm-focus-on="focusOnAddTournament" >
			<h4 class="">
				<span class="glyphicon glyphicon-plus"></span>
				Add Tournament
			</h4>
		</a>
		<div class="panel panel-default" ng-show="addNewTournamentVisible" >
			<div class="panel-heading">
				<h4 class="">
					<span class="glyphicon glyphicon-plus"></span>
					Add Tournament
				</h4>
			</div>
		<div class="panel-body">
			<form class="form-horizontal" name="form"  novalidate>
			  <div class="form-group" >
			    <label for="name" class="col-md-1 control-label">Name</label>
			    <div class="col-md-11">
					<input ng-model="newTournament.name" class="form-control" type="text" id="name" required="" name="name" htm-focus-on="addNewTournamentVisible">
				    <span class="help-block">A tournament name is used to identify a tournament.</span>

			    </div>
			  	</div>
				  <div class="form-group">
				    <label for="memo" class="col-md-1 control-label">Label</label>
				    <div class="col-md-11">
				    	<!--Forces update of memo when name is changed -->
						<div class="ng-hide">{{newTournament.updateMemo()}}</div>

						<div class="input-group" ng-hide="newTournament.customMemo">
							<span class="input-group-btn">
							    <button type="button" class="btn btn-success" ng-model="newTournament.customMemo" btn-radio="true">
							    	<span class="glyphicon glyphicon-wrench"></span>
						    	</button>
							</span>
   								<input readonly ng-model="newTournament.memo" class="form-control" type="text" id="memo" name="memo">
						</div>
						<div class="input-group" ng-show="newTournament.customMemo">
							<span class="input-group-btn">
							  <button type="button" class="btn btn-success" ng-model="newTournament.customMemo" btn-radio="false">
						    	<span class="glyphicon glyphicon-wrench"></span>
							  </button>
							</span>
							<input ng-model="newTournament.memo" class="form-control" type="text" id="memo" name="memo" htm-focus-on="newTournament.customMemo" required="" htm-upper-case="" htm-replace-space="">
						</div>
						<span class="help-block">A label is used as a short hand to identify a tournament when the full name can not be displayed.</span>
				    </div>
				  </div>

			  <div class="form-group">
			    <div class="col-md-offset-1 col-md-11">
					<button class="btn btn-primary" ng-click="save()" ng-disabled="form.$invalid ">Save</button>
			    </div>
			  </div>
			</form>
		</div>
	</div>
</div>
